import ky from "ky-universal";
import { useQuery } from "react-query";
import { Episode } from "./useEpisodes";

export async function fetchEpisode(id: string): Promise<Episode> {
  return await ky.get(`${process.env.NEXT_PUBLIC_CMS_URL}/episodes/${id}`).json();
}

export function useEpisode(id: string) {
  return useQuery(["episode", id], () => fetchEpisode(id));
}
